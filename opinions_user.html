<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daftar Opini - KSM Education</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./assets/favicon.ico" />

    <link rel="stylesheet" href="./styles/dashboard_user.css" />
    <link rel="stylesheet" href="./styles/journal.css" />
    <link rel="stylesheet" href="./styles/user.css" />

    <script src="https://unpkg.com/feather-icons"></script>
  </head>
  <body>
    <header>
      <div class="header-container">
        <div class="logo">
          <a href="./dashboard_user.html">
            <img src="./assets/main_logo.png" alt="Logo KSM" />
          </a>
        </div>

        <button class="hamburger-menu" aria-label="Toggle menu" aria-expanded="false" type="button">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <nav>
          <a href="./dashboard_user.html">HOME</a>
          <div class="nav-dropdown">
            <button class="nav-link has-caret active" type="button">
              Artikel
              <i data-feather="chevron-down" class="caret-icon"></i>
            </button>
            <div class="dropdown-menu">
              <a href="./journals_user.html">Daftar Jurnal</a>
              <a href="./opinions_user.html" class="active">Daftar Opini</a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <div class="container">
      <section class="filter-section">
        <div class="filter-row-top">
          <div class="sort-dropdown">
            <button class="btn-icon-sort" type="button" id="btnSort" title="Urutkan">
              <i data-feather="filter"></i>
            </button>
            <div class="sort-menu" id="sortMenu">
              <button data-sort="newest" class="sort-item active">
                <i data-feather="clock"></i>
                Terbaru
              </button>
              <button data-sort="oldest" class="sort-item">
                <i data-feather="calendar"></i>
                Terlama
              </button>
              <button data-sort="title" class="sort-item">
                <i data-feather="type"></i>
                Judul A-Z
              </button>
              <button data-sort="views" class="sort-item">
                <i data-feather="eye"></i>
                Paling Populer
              </button>
            </div>
          </div>

          <div class="search-box">
            <i data-feather="search"></i>
            <input type="text" placeholder="Cari opini..." id="searchInput" />
          </div>
        </div>

        <div class="filter-row-bottom">
          <div class="filter-stats"><span id="totalOpinions">0</span> opini ditemukan</div>
        </div>
      </section>

      <section class="back-section">
        <a href="./dashboard_user.html" class="btn-back">
          <i data-feather="arrow-left"></i>
          Kembali
        </a>
      </section>

      <section id="opinions" class="journal-list-full">
        <div id="journalContainer">
          <div
            class="loading-state"
            style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666"
          >
            <div
              style="
                width: 40px;
                height: 40px;
                border: 3px solid #eee;
                border-top: 3px solid #3498db;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 15px;
              "
            ></div>
            <p>Memuat daftar opini...</p>
          </div>
        </div>
      </section>

      <section class="pagination-section">
        <div id="pagination" class="pagination"></div>
      </section>
    </div>

    <script src="./js/api.js"></script>

    <script src="./js/pagination.js"></script>

    <script src="./js/mobile_menu.js"></script>

    <script>
      // Inisialisasi Icon Feather & CSS Loading
      document.addEventListener("DOMContentLoaded", () => {
        feather.replace();

        const style = document.createElement("style");
        style.textContent = `
          @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        `;
        document.head.appendChild(style);

        console.log("Halaman Opini Siap (Mode Database)");
      });
    </script>
  </body>
</html>
